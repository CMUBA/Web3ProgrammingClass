<html lang="en"><head>
  <meta charset="UTF-8">
  

    <link rel="apple-touch-icon" type="image/png" href="https://cpwebassets.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png">

    <meta name="apple-mobile-web-app-title" content="CodePen">

    <link rel="shortcut icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico">

    <link rel="mask-icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/logo-pin-b4b4269c16397ad2f0f7a01bcdf513a1994f4c94b8af2f191c09eb0d601762b1.svg" color="#111">



  
    <script src="https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-2c7831bb44f98c1391d6a4ffda0e1fd302503391ca806e7fcc7b9b87197aec26.js"></script>


  <title>CodePen - SVG Flower Generator</title>

    <link rel="canonical" href="https://codepen.io/soju22/pen/XGLZLp">
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
  
<style>
body {
  margin: 0;
  font-family: 'Montserrat', sans-serif;
  font-size: 0.9rem;
  color: #000;
  text-shadow: 1px 1px 1px #fff;
}

#svg {
  position: fixed;
  width: 100%;
  height: 100%;
  cursor: pointer;
  filter: drop-shadow(0 0 4px #000);
}

.flower path {
  stroke-linecap: round;
  stroke-linejoin: round;
}

.layer {
  animation-name: layerAnim1;
  animation-duration: 4s;
  animation-fill-mode: both; 
  transform-box: fill-box;
  transform-origin: center center;
}

.layer path {
  stroke: rgba(0, 0, 0, 0.7);
  stroke-width: 0.75px;
}

a {
  color: #555;
  text-decoration: none;
  border-bottom: 0.25rem solid transparent;
  transition: all 0.4s;
}
a:hover {
  color: #000;
  border-bottom-color: rgba(0, 0, 0, 0.7);
}

header, footer {
  position: absolute;
  width: 100%;
  text-align: center;
}
header h1 {
  font-size: 2em;
  margin: 0.5em 0 0;
}
footer {
  bottom: 0.5em;
}

@-moz-document url-prefix() {
  #svg {
    filter: none;
  }
  .layer {
    filter: drop-shadow(0 0 2px #000);
  }
}

@keyframes layerAnim1 {
  from, to { animation-timing-function: ease-out; }
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes layerAnim2 {
  from, to { animation-timing-function: ease-out; }
  from { opacity: 0; transform: scale3d(0.2, 0.2, 0.2); }
  to { opacity: 1; transform: scale3d(1, 1, 1); }
}

@keyframes layerAnim3 {
  from, to { animation-timing-function: ease-out; }
  from { opacity: 0; transform: rotateZ(-270deg); }
  to { opacity: 1; opacity: 1; transform: rotateZ(0deg); }
}

@keyframes layerAnim4 {
  from, to { animation-timing-function: ease-out; }
  from { opacity: 0; transform: rotateZ(360deg) scale3d(0.2, 0.2, 0.2); }
  to { opacity: 1; opacity: 1; transform: rotateZ(0deg) scale3d(1, 1, 1); }
}

@keyframes layerAnim5 {
  from, 20%, 40%, 60%, 80%, to {
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }

  0% {
    opacity: 0;
    transform: scale3d(0.3, 0.3, 0.3);
  }

  20% {
    transform: scale3d(1.1, 1.1, 1.1);
  }

  40% {
    transform: scale3d(0.9, 0.9, 0.9);
  }

  60% {
    transform: scale3d(1.03, 1.03, 1.03);
  }

  80% {
    transform: scale3d(0.97, 0.97, 0.97);
  }

  to {
    opacity: 1;
    transform: scale3d(1, 1, 1);
  }
}

@keyframes layerAnim6 {
  from, 20%, 40%, 60%, 80%, to {
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }

  0% {
    opacity: 0;
    transform: rotateZ(180deg) scale3d(0.3, 0.3, 0.3);
  }

  20% {
    transform: rotateZ(-25.71deg) scale3d(1.1, 1.1, 1.1);
  }

  40% {
    transform: rotateZ(25.71deg) scale3d(0.9, 0.9, 0.9);
  }

  60% {
    transform: rotateZ(-7.71deg) scale3d(1.03, 1.03, 1.03);
  }

  80% {
    transform: rotateZ(7.71deg) scale3d(0.97, 0.97, 0.97);
  }

  to {
    opacity: 1;
    transform: rotateZ(0deg) scale3d(1, 1, 1);
  }
}

@keyframes layerAnim7 {
  from, 20%, 40%, 60%, 80%, to {
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }

  0% {
    opacity: 0;
    transform: rotateZ(-180deg) scale3d(0.3, 0.3, 0.3);
  }

  20% {
    transform: rotateZ(25.71deg) scale3d(1.1, 1.1, 1.1);
  }

  40% {
    transform: rotateZ(-25.71deg) scale3d(0.9, 0.9, 0.9);
  }

  60% {
    transform: rotateZ(7.71deg) scale3d(1.03, 1.03, 1.03);
  }

  80% {
    transform: rotateZ(-7.71deg) scale3d(0.97, 0.97, 0.97);
  }

  to {
    opacity: 1;
    transform: rotateZ(0deg) scale3d(1, 1, 1);
  }
}

@keyframes layerAnim8 {
  from, to { animation-timing-function: ease-out; }
  from { opacity: 0; transform: rotate3d(1, 1, 1, 360deg); }
  to { opacity: 1; transform: rotate3d(1, 1, 1, 0deg); }
}

@keyframes layerAnim9 {
  from, to { animation-timing-function: ease-out; }
  from { opacity: 0; transform: rotate3d(1, 1, 1, 360deg) scale3d(0.1, 0.1, 0.1); }
  to { opacity: 1; transform: rotate3d(1, 1, 1, 0deg) scale3d(1, 1, 1); }
}

@keyframes layerAnim10 {
  from, to { animation-timing-function: ease-out; }
  from { opacity: 0; transform: scale3d(2, 2, 2); }
  to { opacity: 1; transform: scale3d(1, 1, 1); }
}

@keyframes layerAnim11 {
  from, to { animation-timing-function: ease-out; }
  from { opacity: 0; transform: rotateZ(-360deg) scale3d(2, 2, 2); }
  to { opacity: 1; transform: rotateZ(0deg) scale3d(1, 1, 1); }
}
</style>

  <script>
  window.console = window.console || function(t) {};
</script>

  
  
</head>

<body translate="no">
  <svg id="svg" viewBox="-681.5 -112 1363 224"></svg>

<header>
  <h1>Random Flower Generator</h1>
  <input type="text" id="nameInput" placeholder="Enter your name">
  <input type="number" id="seedInput" placeholder="Enter seed number">
  <button id="generateBtn">Generate Flower</button>
  <button id="downloadBtn">Download PNG</button>
  <br>
  <a href="https://codepen.io/collection/DPjZxo/" target="_blank">SVG Collection</a>
</header>
<footer>
  <div id="nameDisplay"></div>
</footer>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.0.3/chroma.min.js"></script>
      <script id="rendered-js">
// Add these functions at the beginning of your script
function seedRandom(seed) {
  let x = Math.sin(seed++) * 10000;
  return x - Math.floor(x);
}

function seededRandom(min, max, seed) {
  if (max === undefined) {
    max = min;
    min = 0;
  }
  return min + seedRandom(seed) * (max - min);
}

function seededRandomInt(min, max, seed) {
  return Math.floor(seededRandom(min, max + 1, seed));
}

const { random, PI, sin, cos, round, floor, ceil, min, max } = Math;

function App() {
  const svg = document.getElementById('svg');
  let width, height, cx, cy;

  let zoom = 100;
  let vbOX = 0;
  let vbOY = 0;

  let currentSeed = Date.now();

  init();

  function init() {
    onResize();
    initEventHandlers();
  }

  function initEventHandlers() {
    window.addEventListener('resize', onResize);
    document.getElementById('generateBtn').addEventListener('click', onGenerateClick);
    document.getElementById('downloadBtn').addEventListener('click', onDownloadClick);
    svg.addEventListener('click', onSvgClick);
  }

  function onGenerateClick() {
    const name = document.getElementById('nameInput').value;
    const seed = parseInt(document.getElementById('seedInput').value) || Date.now();
    currentSeed = seed;

    createFlower({ 
      seed: currentSeed, 
      x: 0, 
      y: 0,
      radiusMultiplier: 4  // This will be used to amplify the radius
    });
    displayName(name);
  }

  function onSvgClick(event) {
    const rect = svg.getBoundingClientRect();
    const x = event.clientX - rect.left;
    const y = event.clientY - rect.top;
    
    // Convert screen coordinates to SVG coordinates
    const point = svg.createSVGPoint();
    point.x = x;
    point.y = y;
    const svgPoint = point.matrixTransform(svg.getScreenCTM().inverse());

    currentSeed = Date.now();
    createFlower({ 
      seed: currentSeed, 
      x: svgPoint.x, 
      y: svgPoint.y,
      radiusMultiplier: 1  // Normal size for click-generated flowers
    });
  }

  function createFlower(params) {
    const seed = params.seed;
    const radiusMultiplier = params.radiusMultiplier || 1;
    const iRadiusCoef = seededRandom(3, 21, seed) * radiusMultiplier;
    const oRadiusCoef = seededRandom(iRadiusCoef, 21, seed + 1) * radiusMultiplier;
    new Flower({
      parent: svg,
      petals: seededRandomInt(4, 12, seed + 2),
      rings: seededRandomInt(3, 8, seed + 3),
      step: seededRandomInt(3, 8, seed + 4),
      alpha: seededRandom(0.7, 1, seed + 5),
      angle: seededRandom(0, Math.PI * 2, seed + 6),
      iRadius: seededRandom(6, 15, seed + 7) * radiusMultiplier,
      iRadiusCoef,
      oRadius: seededRandom(15, 30, seed + 8) * radiusMultiplier,
      oRadiusCoef,
      seed,
      ...params
    });
  }

  function displayName(name) {
    const nameDisplay = document.getElementById('nameDisplay');
    nameDisplay.innerHTML = '';
    
    // Create a container for better positioning
    const container = document.createElement('div');
    container.style.position = 'absolute';
    container.style.bottom = '20px';
    container.style.left = '0';
    container.style.width = '100%';
    container.style.textAlign = 'center';
    
    // Display the input name
    const nameColors = chroma.scale(['#ff0000', '#00ff00', '#0000ff']).colors(name.length);
    for (let i = 0; i < name.length; i++) {
      const span = document.createElement('span');
      span.textContent = name[i];
      span.style.color = nameColors[i];
      span.style.fontSize = '36px'; // Increased from 24px (150% larger)
      span.style.textShadow = '1px 1px 1px #fff';
      container.appendChild(span);
    }
    
    // Add a line break
    container.appendChild(document.createElement('br'));
    
    // Add the postfix
    const postfix = "ICDI CMU We3 Programming Class";
    const postfixColors = chroma.scale(['#ff00ff', '#ffff00', '#00ffff']).colors(postfix.length);
    for (let i = 0; i < postfix.length; i++) {
      const span = document.createElement('span');
      span.textContent = postfix[i];
      span.style.color = postfixColors[i];
      span.style.fontSize = '24px'; // Kept at original size
      span.style.textShadow = '1px 1px 1px #fff';
      container.appendChild(span);
    }
    
    nameDisplay.appendChild(container);
  }

  function onDownloadClick() {
    const svgData = new XMLSerializer().serializeToString(svg);
    const svgSize = svg.getBoundingClientRect();
    const canvas = document.createElement('canvas');
    const ctx = canvas.getContext('2d');
    const pixelRatio = window.devicePixelRatio || 1;
    
    canvas.width = svgSize.width * pixelRatio;
    canvas.height = svgSize.height * pixelRatio;
    ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);
    
    const img = new Image();
    img.onload = function() {
      ctx.drawImage(img, 0, 0, svgSize.width, svgSize.height);
      
      // Draw the name
      const nameDisplay = document.getElementById('nameDisplay');
      ctx.font = '24px Montserrat';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'bottom';
      
      const nameSpans = nameDisplay.getElementsByTagName('span');
      let totalWidth = 0;
      for (let span of nameSpans) {
        totalWidth += ctx.measureText(span.textContent).width;
      }
      
      let x = svgSize.width / 2 - totalWidth / 2;
      for (let span of nameSpans) {
        ctx.fillStyle = span.style.color;
        ctx.fillText(span.textContent, x, svgSize.height - 10);
        x += ctx.measureText(span.textContent).width;
      }
      
      const pngFile = canvas.toDataURL('image/png');
      const downloadLink = document.createElement('a');
      downloadLink.download = 'flowers.png';
      downloadLink.href = pngFile;
      downloadLink.click();
    };

    img.src = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svgData)));
  }

  function onResize() {
    const r = svg.getBoundingClientRect();
    width = r.width;
    height = r.height;
    cx = width / 2;
    cy = height / 2;
    updateViewBox();
  }

  function updateViewBox() {
    const vbW = width * 300 / zoom; // Increased from 100 to 300
    const vbH = height * 300 / zoom; // Increased from 100 to 300
    const vbX = vbOX - vbW / 2;
    const vbY = vbOY - vbH / 2;
    svg.setAttribute('viewBox', `${vbX} ${vbY} ${vbW} ${vbH}`);
  }
}

class Flower {
  constructor(conf) {
    this.conf = {
      alpha: 1,
      angle: 0,
      iRadius: 2, iRadiusCoef: 5,
      oRadius: 5, oRadiusCoef: 10,
      layerAnim: 'layerAnim' + seededRandomInt(1, 12, conf.seed + 9),
      reverseDelay: seededRandom(0, 1, conf.seed + 10) > 0.5,
      ...conf
    };

    this.create();
  }

  create() {
    let { parent, x, y, petals, rings, step, colors, alpha, angle, iRadius, iRadiusCoef, oRadius, oRadiusCoef, layerAnim, reverseDelay, seed } = this.conf;

    this.group = document.createElementNS('http://www.w3.org/2000/svg', 'g');
    this.group.classList.add('flower');
    parent.appendChild(this.group);

    if (!colors) {
      colors = [chroma.random(), chroma.random()];
      if (rings > 6) colors.push(chroma.random());
    }

    const cscale = chroma.scale(colors);
    let layer, np, color, di;
    for (let i = rings; i > 0; i--) {
      layer = document.createElementNS('http://www.w3.org/2000/svg', 'g');
      layer.classList.add('layer');

      np = Math.floor((i + step - 1) / step) * petals;
      color = cscale(i * 1 / rings).alpha(alpha);
      this.createPetalsRing(layer, x, y, np, iRadius + i * iRadiusCoef, oRadius + i * oRadiusCoef, angle + i % 2 * Math.PI / np, color, seed + i);

      di = reverseDelay ? rings - i + 1 : i;
      layer.style.animationName = layerAnim;
      layer.style.animationDuration = rings * 0.3 + 's';
      layer.style.animationDelay = di * 0.15 + 's';
      this.group.appendChild(layer);
    }
  }

  createPetalsRing(parent, x, y, n, iRadius, oRadius, angle, fill, seed) {
    const da = 2 * PI / n;
    const dr = oRadius - iRadius;
    const cpda = seededRandom(0.5 * da / 5, 1.5 * da / 5, seed);
    const cpdr = seededRandom(dr * 0.25, dr * 1.1, seed + 1);
    let a;
    for (let i = 0; i < n; i++) {
      a = angle + i * da;
      new Petal({
        parent,
        x, y,
        startA: a,
        endA: a + da,
        iRadius,
        oRadius,
        cpda,
        cpdr,
        fill
      });
    }
  }
}

class Petal {
  constructor({ parent, x, y, startA, endA, iRadius, oRadius, cpda, cpdr, fill }) {
    this.parent = parent;
    this.fill = fill;

    const da = endA - startA;
    const iRadius0 = iRadius / 5;
    this.sp = [x + cos(startA + da / 2) * iRadius0, y + sin(startA + da / 2) * iRadius0];
    this.cp1 = [x + cos(startA - cpda) * (iRadius + cpdr), y + sin(startA - cpda) * (iRadius + cpdr)];
    this.cp2 = [x + cos(endA + cpda) * (iRadius + cpdr), y + sin(endA + cpda) * (iRadius + cpdr)];
    this.ep = [x + cos(startA + da / 2) * oRadius, y + sin(startA + da / 2) * oRadius];

    this.curve1 = new QCurve({ sp: this.sp, cp: this.cp1, ep: this.ep });
    this.curve2 = new QCurve({ sp: this.sp, cp: this.cp2, ep: this.ep });
    this.create();
  }
  create() {
    this.path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
    this.path.setAttribute('d', this.pathD());
    this.path.style.fill = this.fill;
    this.parent.appendChild(this.path);
  }
  pathD() {
    return [
    this.curve1.pathD(),
    this.curve2.pathD()].
    join(' ');
  }}


class QCurve {
  constructor({ sp, cp, ep }) {
    this.sp = sp;
    this.cp = cp;
    this.ep = ep;
  }
  pathD() {
    return [
    `M${this.sp[0]} ${this.sp[1]}`,
    `Q${this.cp[0]} ${this.cp[1]}`,
    `${this.ep[0]} ${this.ep[1]}`].
    join(' ');
  }}


function clamp(v, min, max) {
  return min(max(v, min), max);
}

function rnd(min, max) {
  if (max === undefined) {max = min;min = 0;}
  return random() * (max - min) + min;
}

function rndInt(min, max) {
  if (max === undefined) {max = min;min = 0;}
  min = ceil(min);
  max = floor(max);
  return floor(random() * (max - min)) + min;
}

App();
//# sourceURL=pen.js
    </script>

  



</body></html>